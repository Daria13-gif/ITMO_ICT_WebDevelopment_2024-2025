<template>
  <v-container>
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã -->
    <v-row>
      <v-col cols="12">
        <v-card class="pa-5 mb-5" elevation="5">
          <v-card-title class="text-h5 text-center">üìö –ö–Ω–∏–≥–∏ —Å –Ω–∏–∑–∫–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤</v-card-title>
        </v-card>
      </v-col>
    </v-row>

    <!-- –¢–∞–±–ª–∏—Ü–∞ —Å –∫–Ω–∏–≥–∞–º–∏ -->
    <v-row>
      <v-col cols="12">
        <v-data-table
          :headers="headers"
          :items="books"
          item-value="book.id"
          class="elevation-1"
        >
          <!-- –Ø—á–µ–π–∫–∞: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–Ω–∏–≥–∏ -->
          <template v-slot:item.title="{ item }">
            <strong>{{ item.book.title }}</strong>
            <div>{{ item.book.authors || "–ê–≤—Ç–æ—Ä—ã –Ω–µ —É–∫–∞–∑–∞–Ω—ã" }}</div>
          </template>

          <!-- –Ø—á–µ–π–∫–∞: –ö–æ–¥ –∫–Ω–∏–≥–∏ -->
          <template v-slot:item.current_code="{ item }">
            {{ item.book.current_code || "–ù–µ —É–∫–∞–∑–∞–Ω" }}
          </template>

          <!-- –Ø—á–µ–π–∫–∞: –ß–∏—Ç–∞—Ç–µ–ª–∏ -->
          <template v-slot:item.readers="{ item }">
            <ul>
              <li v-for="reader in item.readers" :key="reader.id">
                –ß–∏—Ç–∞—Ç–µ–ª—å: {{ reader.full_name }} (‚Ññ –±–∏–ª–µ—Ç–∞: {{ reader.ticket_number }})
              </li>
            </ul>
            <span v-if="!item.readers.length">–ù–µ—Ç —á–∏—Ç–∞—Ç–µ–ª–µ–π</span>
          </template>
        </v-data-table>
      </v-col>
    </v-row>

    <!-- –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö -->
    <v-row v-if="!books.length">
      <v-col cols="12" class="text-center">
        <v-alert type="info">–ù–µ—Ç –∫–Ω–∏–≥ —Å –Ω–∏–∑–∫–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤.</v-alert>
      </v-col>
    </v-row>
  </v-container>
</template>
