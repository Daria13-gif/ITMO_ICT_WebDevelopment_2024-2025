# Статусы номеров

### Описание

Этот эндпоинт возвращает список номеров гостиницы, отфильтрованных по указанным статусам.

---

### URL

`GET /rooms`

---

### Параметры запроса

Эндпоинт принимает параметры в строке запроса (`query parameters`).

| Параметр  | Тип данных | Обязательный | Описание                                                                 |
|-----------|------------|--------------|--------------------------------------------------------------------------|
| `status`  | `string`   | Да           | Список статусов через запятую. Допустимые значения: `AVAILABLE`, `OCCUPIED`, `REQUIRES_CLEANING`, `CLEANING_IN_PROGRESS`, `MAINTENANCE`. |

---

### Пример запроса

```http
GET /rooms?status=AVAILABLE,OCCUPIED
```

---

### Успешный ответ (200)

```json
{
    "count": 3,
    "rooms": [
        {
            "number": 101,
            "type_id": 1,
            "type_name": "Одноместный",
            "phone": "1234567890"
        },
        {
            "number": 102,
            "type_id": 1,
            "type_name": "Одноместный",
            "phone": "1234567891"
        },
        {
            "number": 201,
            "type_id": 2,
            "type_name": "Двухместный",
            "phone": "1234567892"
        }
    ]
}
```

#### Поля ответа

| Поле              | Тип данных    | Описание                                                       |
|--------------------|---------------|---------------------------------------------------------------|
| `count`            | `integer`     | Общее количество найденных номеров.                           |
| `rooms`            | `array`       | Список номеров, соответствующих указанным статусам.            |
| `rooms.number`     | `integer`     | Номер комнаты.                                                |
| `rooms.type_id`    | `integer`     | ID типа комнаты.                                              |
| `rooms.type_name`  | `string`      | Название типа комнаты (например, "Одноместный").              |
| `rooms.phone`      | `string`      | Телефонный номер, закрепленный за комнатой.                   |

---

### Ошибки

#### Неверный запрос (422)

Пример ответа:

```json
{
    "detail": "Параметр 'status' обязателен для этого запроса."
}
```

| Код   | Описание                                                         |
|-------|-----------------------------------------------------------------|
| 422   | Отсутствие обязательного параметра или недопустимые значения статусов. |

#### Недопустимые статусы (422)

Пример ответа:

```json
{
    "detail": "Недопустимые статусы: ['INVALID_STATUS']. Доступные статусы: ['AVAILABLE', 'OCCUPIED', 'REQUIRES_CLEANING', 'CLEANING_IN_PROGRESS', 'MAINTENANCE']."
}
```

---

### Примечания

- Параметр `status` обязателен. Если он не указан, запрос будет отклонен.
- Укажите один или несколько статусов через запятую. Например, `AVAILABLE,OCCUPIED`.
- Если указаны недопустимые статусы, запрос завершится ошибкой с описанием доступных значений.
- Если ни один номер не соответствует фильтру, будет возвращен пустой список с полем `count: 0`.